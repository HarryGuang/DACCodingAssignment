{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, Validators } from '@angular/forms';\nlet UsereditModalComponent = class UsereditModalComponent {\n  constructor(membersService, bsModalRef, fb) {\n    this.membersService = membersService;\n    this.bsModalRef = bsModalRef;\n    this.fb = fb;\n    this.username = '';\n    this.displayName = '';\n    this.firstName = '';\n    this.lastName = '';\n    this.gender = '';\n    this.closeBtnName = '';\n    this.userEditForm = new FormGroup({});\n    this.genderList = [{\n      value: 'male',\n      display: 'Males'\n    }, {\n      value: 'female',\n      display: 'Females'\n    }];\n  }\n  ngOnInit() {\n    this.initializeForm();\n  }\n  initializeForm() {\n    this.userEditForm = this.fb.group({\n      gender: [this.gender],\n      username: [this.username, Validators.required],\n      displayName: [this.displayName, Validators.required],\n      firstName: [this.firstName, Validators.required],\n      lastName: [this.lastName, Validators.required],\n      password: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(8)]],\n      confirmPassword: ['', [Validators.required, this.matchValues('password')]]\n    });\n    this.userEditForm.controls['password'].valueChanges.subscribe({\n      next: () => this.userEditForm.controls['confirmPassword'].updateValueAndValidity()\n    });\n  }\n  matchValues(matchTo) {\n    return control => {\n      return control.value === control.parent?.get(matchTo)?.value ? null : {\n        notMatching: true\n      };\n    };\n  }\n  updateMember() {\n    const values = this.userEditForm.value;\n    //console.log(values);\n    this.accountService.register(values).subscribe({\n      next: response => {\n        this.membersService.memberCache = new Map();\n        this.router.navigateByUrl('/members');\n        //console.log(response);\n      },\n\n      error: error => {\n        this.validationErrors = error;\n        console.log(error);\n      }\n    });\n  }\n};\nUsereditModalComponent = __decorate([Component({\n  selector: 'app-useredit-modal',\n  templateUrl: './useredit-modal.component.html',\n  styleUrls: ['./useredit-modal.component.css']\n})], UsereditModalComponent);\nexport { UsereditModalComponent };","map":{"version":3,"mappings":"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","names":["Component","FormGroup","Validators","UsereditModalComponent","constructor","membersService","bsModalRef","fb","value","display","ngOnInit","initializeForm","userEditForm","group","gender","username","required","displayName","firstName","lastName","password","minLength","maxLength","confirmPassword","matchValues","controls","valueChanges","subscribe","next","updateValueAndValidity","matchTo","control","parent","get","notMatching","updateMember","values","accountService","register","response","memberCache","Map","router","navigateByUrl","error","validationErrors","console","log","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\Harry\\NetCore\\DACCodingAssignment\\DACCodingAssignment\\clientfront\\src\\app\\modals\\useredit-modal\\useredit-modal.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { BsModalRef } from 'ngx-bootstrap/modal';\nimport {\n  AbstractControl,\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  ValidatorFn,\n  Validators,\n} from '@angular/forms';\n\n@Component({\n  selector: 'app-useredit-modal',\n  templateUrl: './useredit-modal.component.html',\n  styleUrls: ['./useredit-modal.component.css'],\n})\nexport class UsereditModalComponent implements OnInit {\n  username = '';\n  displayName = '';\n  firstName = '';\n  lastName = '';\n  gender = '';\n  closeBtnName = '';\n\n  userEditForm: FormGroup = new FormGroup({});\n\n  genderList = [\n    { value: 'male', display: 'Males' },\n    { value: 'female', display: 'Females' },\n  ];\n\n  constructor(\n    private membersService: MembersService,\n    public bsModalRef: BsModalRef,\n    private fb: FormBuilder\n  ) {}\n\n  ngOnInit(): void {\n    this.initializeForm();\n  }\n\n  initializeForm() {\n    this.userEditForm = this.fb.group({\n      gender: [this.gender],\n      username: [this.username, Validators.required],\n      displayName: [this.displayName, Validators.required],\n      firstName: [this.firstName, Validators.required],\n      lastName: [this.lastName, Validators.required],\n      password: [\n        '',\n        [Validators.required, Validators.minLength(4), Validators.maxLength(8)],\n      ],\n      confirmPassword: [\n        '',\n        [Validators.required, this.matchValues('password')],\n      ],\n    });\n    this.userEditForm.controls['password'].valueChanges.subscribe({\n      next: () =>\n        this.userEditForm.controls['confirmPassword'].updateValueAndValidity(),\n    });\n  }\n\n  matchValues(matchTo: string): ValidatorFn {\n    return (control: AbstractControl) => {\n      return control.value === control.parent?.get(matchTo)?.value\n        ? null\n        : { notMatching: true };\n    };\n  }\n\n  updateMember() {\n    const values = this.userEditForm.value;\n    //console.log(values);\n\n    this.accountService.register(values).subscribe({\n      next: (response) => {\n        this.membersService.memberCache = new Map();\n        this.router.navigateByUrl('/members');\n        //console.log(response);\n      },\n      error: (error) => {\n        this.validationErrors = error;\n        console.log(error);\n      },\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}